(this["webpackJsonpgoit-react-hw-04-hooks-image-finder"]=this["webpackJsonpgoit-react-hw-04-hooks-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1WttX",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2W5JG"}},21:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3_IRQ"}},23:function(e,t,a){e.exports={Button:"Button_Button__TWmEa"}},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a.n(c),o=a(6),l=a.n(o),i=(a(29),a(11)),s=a(4);a(30),a(31);function u(e){var t=e.onSubmit,a=Object(c.useState)(""),r=Object(s.a)(a,2),o=r[0],l=r[1];return Object(n.jsx)("header",{className:"Searchbar",children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),l("")):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0441\u043a\u043e\u043c\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430")},className:"SearchForm",children:[Object(n.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(n.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(n.jsx)("input",{className:"SearchForm-input",name:"searchName",value:o,onChange:function(e){l(e.currentTarget.value.toLowerCase())},type:"text",placeholder:"Search images and photos"})]})})}var m=a(20),g=a.n(m),j=function(e,t){return g.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=19032313-4dd4b1c57c2e902bf9f549139&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},b=a(10),d=a.n(b);function f(e){var t=e.id,a=e.webformatURL,c=e.tags,r=e.largeImageURL,o=e.onOpenModal;return Object(n.jsx)("li",{className:d.a.ImageGalleryItem,children:Object(n.jsx)("img",{onClick:o,src:a,alt:c,"data-source":r,className:d.a.ImageGalleryItemImage})},t)}var h=a(21),O=a.n(h);function I(e){var t=e.images,a=e.onOpenModal;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("ul",{className:O.a.ImageGallery,children:t.map((function(e){return Object(n.jsx)(f,{webformatURL:e.webformatURL,tags:e.tags,largeImageURL:e.largeImageURL,onOpenModal:a},e.id)}))})})}var p=a(8),v=a.n(p),y=document.querySelector("#modal-root");function x(e){var t=e.largeImageURL,a=e.onClose,r=Object(c.useRef)(!0);Object(c.useEffect)((function(){return r.current?(window.addEventListener("keydown",l),void(r.current=!1)):function(){window.removeEventListener("keydown",l)}}));var l=function(e){"Escape"===e.code&&a()};return Object(o.createPortal)(Object(n.jsx)("div",{className:v.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(n.jsx)("div",{className:v.a.Modal,children:Object(n.jsx)("img",{src:t,alt:"",className:v.a.ImageGalleryItemImage})})}),y)}a(50);var _=a(22),S=a.n(_),w=a(23),G=a.n(w);var L=function(e){var t=e.onClick;return Object(n.jsx)("button",{onClick:t,className:G.a.Button,children:"Loade more"})};function N(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)([]),l=Object(s.a)(o,2),m=l[0],g=l[1],b=Object(c.useState)(1),d=Object(s.a)(b,2),f=d[0],h=d[1],O=Object(c.useState)(!1),p=Object(s.a)(O,2),v=p[0],y=p[1],_=Object(c.useState)(!1),w=Object(s.a)(_,2),G=w[0],N=w[1],k=Object(c.useState)(""),C=Object(s.a)(k,2),F=C[0],M=C[1];Object(c.useEffect)((function(){""!==a&&(y(!0),j(a,f).then((function(e){g((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),E()})).catch((function(e){return console.log(e)})).finally((function(){return y(!1)})))}),[a,f]);var R=function(){y(!0),h((function(e){return e+1})),E()},U=function(){N(!G)},E=function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(u,{onSubmit:function(e){r(e),h(1),g([]),y(!0)}}),m.length>0&&Object(n.jsx)(I,{images:m,handleLoadeMore:R,onOpenModal:function(e){M(e.target.dataset.source),U()}}),v&&Object(n.jsx)(S.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3,style:{textAlign:"center"}}),!v&&m.length>11&&Object(n.jsx)(L,{onClick:R}),G&&Object(n.jsx)(x,{onClose:U,largeImageURL:F})]})}var k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};l.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root")),k()},8:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1hRUj",Modal:"Modal_Modal__1LPAU",ImageGalleryItemImage:"Modal_ImageGalleryItemImage__12mNG"}}},[[72,1,2]]]);
//# sourceMappingURL=main.c069e6db.chunk.js.map